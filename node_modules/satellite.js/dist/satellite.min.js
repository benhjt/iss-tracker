!function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):a.satellite=b()}(this,function(){"use strict";function j(b,f){for(var d=[31,0==b%4?29:28,31,30,31,30,31,31,30,31,30,31],g=G(f),i=1,j=0;g>j+d[i-1]&&12>i;)j+=d[i-1],i+=1;var e=i,k=g-j,l=24*(f-g),m=G(l);l=60*(l-m);var p=G(l);return{mon:e,day:k,hr:m,minute:p,sec:60*(l-p)}}function k(b,c,f,g,h,i){var e=6<arguments.length&&void 0!==arguments[6]?arguments[6]:0;return 367*b-G(.25*(7*(b+G((c+9)/12))))+G(275*c/9)+f+1721013.5+((e/6e4+i/60+h)/60+g)/24}function A(b,c,d,f,g,e,a){if(b instanceof Date){var h=b;return k(h.getUTCFullYear(),h.getUTCMonth()+1,h.getUTCDate(),h.getUTCHours(),h.getUTCMinutes(),h.getUTCSeconds(),h.getUTCMilliseconds())}return k(b,c,d,f,g,e,a)}function d(h,o){var d,v,H,B,K,N,Q,V,W,X,Y,$,aa,ba,ca,ja,ka,la,ma=h.e3,t=h.ee2,na=h.peo,s=h.pgho,e=h.pho,a=h.pinco,n=h.plo,r=h.se2,c=h.se3,m=h.sgh2,p=h.sgh3,l=h.sgh4,x=h.sh2,M=h.sh3,g=h.si2,f=h.si3,u=h.sl2,z=h.sl3,y=h.sl4,b=h.t,q=h.xgh2,w=h.xgh3,F=h.xgh4,j=h.xh2,T=h.xh3,E=h.xi2,C=h.xi3,D=h.xl2,U=h.xl3,A=h.xl4,L=h.zmol,I=h.zmos,O=o.init,P=o.opsmode,S=o.ep,oa=o.inclp,pa=o.nodep,qa=o.argpp,ra=o.mp;la=I+119459e-10*b,"y"===O&&(la=I),ka=la+.0335*ga(la);var sa=r*(Q=.5*(ba=ga(ka))*ba-.25)+c*(V=-.5*ba*fa(ka)),ta=g*Q+f*V,ua=u*Q+z*V+y*ba,va=m*Q+p*V+l*ba,wa=x*Q+M*V;return la=L+.00015835218*b,"y"===O&&(la=L),ka=la+.1098*ga(la),(W=sa+(t*(Q=.5*(ba=ga(ka))*ba-.25)+ma*(V=-.5*ba*fa(ka))),$=ta+(E*Q+C*V),aa=ua+(D*Q+U*V+A*ba),X=va+(q*Q+w*V+F*ba),Y=wa+(j*Q+T*V),"n"===O&&(aa-=n,X-=s,Y-=e,oa+=$-=a,S+=W-=na,B=ga(oa),H=fa(oa),.2<=oa?(qa+=X-=H*(Y/=B),pa+=Y,ra+=aa):(d=B*(N=ga(pa)),v=B*(K=fa(pa)),d+=Y*K+$*H*N,v+=-Y*N+$*H*K,0>(pa%=ia)&&"a"===P&&(pa+=ia),ca=ra+qa+H*pa,ca+=aa+X-$*pa*B,ja=pa,0>(pa=ea(d,v))&&"a"===P&&(pa+=ia),da(ja-pa)>ha&&(pa<ja?pa+=ia:pa-=ia),qa=ca-(ra+=aa)-H*pa)),{ep:S,inclp:oa,nodep:pa,argpp:qa,mp:ra})}function i(a){var b=(a-2451545)/36525,c=-62e-7*b*b*b+.093104*b*b+3164400184.812866*b+67310.54841;return 0>(c=c*C/240%ia)&&(c+=ia),c}function B(){return(0>=arguments.length?void 0:arguments[0])instanceof Date||1<arguments.length?i(A.apply(void 0,arguments)):i.apply(void 0,arguments)}function aa(b,f){var h,i,e,o,n,r,c,m,s,v,g,u,w,x,y,j,z,E,C,F,M,T,aa,ma,O,qa,ra=pa({},b),sa=ja*ka/60;ra.t=f,ra.error=0;var R=ra.mo+ra.mdot*ra.t,k=ra.argpo+ra.argpdot*ra.t,J=ra.nodeo+ra.nodedot*ra.t;m=k,F=R;var Z=ra.t*ra.t;if(T=J+ra.nodecf*Z,j=1-ra.cc1*ra.t,z=ra.bstar*ra.cc4*ra.t,E=ra.t2cof*Z,1!==ra.isimp){r=ra.omgcof*ra.t;var G=1+ra.eta*fa(R);F=R+(y=r+ra.xmcof*(G*G*G-ra.delmo)),m=k-y,u=(g=Z*ra.t)*ra.t,j=j-ra.d2*Z-ra.d3*g-ra.d4*u,z+=ra.bstar*ra.cc5*(ga(F)-ra.sinmao),E=E+ra.t3cof*g+u*(ra.t4cof+ra.t*ra.t5cof)}M=ra.no;var H=ra.ecco;if(C=ra.inclo,"d"===ra.method){w=ra.t;var ta=function(v){var o,H,Y,B,K,N,Q,V,aa=v.irez,d=v.d2201,t=v.d2211,i=v.d3210,s=v.d3222,e=v.d4410,a=v.d4422,n=v.d5220,r=v.d5232,c=v.d5421,h=v.d5433,m=v.dedt,p=v.del1,l=v.del2,x=v.del3,M=v.didt,g=v.dmdt,f=v.dnodt,u=v.domdt,z=v.argpo,y=v.argpdot,b=v.t,q=v.tc,w=v.gsto,F=v.xfact,j=v.xlamo,T=v.no,E=v.atime,ba=v.em,ca=v.argpm,ea=v.inclm,ha=v.xli,ja=v.mm,ka=v.xni,la=v.nodem,ma=v.nm,na=5.7686396,R=.95240898,k=1.8014998,J=1.050833,Z=4.4108898,G=0,oa=0,$=(w+.0043752690880113*q)%ia;if(ba+=m*b,ea+=M*b,ca+=u*b,la+=f*b,ja+=g*b,0!==aa){(0===E||0>=b*E||da(b)<da(E))&&(E=0,ka=T,ha=j),o=0<b?720:-720;for(var _=381;381===_;)2===aa?(Y=(V=z+y*E)+V,H=ha+ha,Q=d*ga(Y+ha-na)+t*ga(ha-na)+i*ga(V+ha-R)+s*ga(-V+ha-R)+e*ga(Y+H-k)+a*ga(H-k)+n*ga(V+ha-J)+r*ga(-V+ha-J)+c*ga(V+H-Z)+h*ga(-V+H-Z),K=ka+F,N=d*fa(Y+ha-na)+t*fa(ha-na)+i*fa(V+ha-R)+s*fa(-V+ha-R)+n*fa(V+ha-J)+r*fa(-V+ha-J)+2*e*fa(Y+H-k)+a*fa(H-k)+c*fa(V+H-Z)+h*fa(-V+H-Z),N*=K):(Q=p*ga(ha-.13130908)+l*ga(2*(ha-2.8843198))+x*ga(3*(ha-.37448087)),K=ka+F,N=p*fa(ha-.13130908)+2*l*fa(2*(ha-2.8843198))+3*x*fa(3*(ha-.37448087)),N*=K),720<=da(b-E)?_=381:(oa=b-E,_=0),381===_&&(ha+=K*o+259200*Q,ka+=Q*o+259200*N,E+=o);ma=ka+Q*oa+.5*(N*oa*oa),B=ha+K*oa+.5*(Q*oa*oa),1===aa?(ja=B-la-ca+$,G=ma-T):(ja=B-(2*la+2*$),G=ma-T),ma=T+G}return{atime:E,em:ba,argpm:ca,inclm:ea,xli:ha,mm:ja,xni:ka,nodem:la,dndt:G,nm:ma}}({irez:ra.irez,d2201:ra.d2201,d2211:ra.d2211,d3210:ra.d3210,d3222:ra.d3222,d4410:ra.d4410,d4422:ra.d4422,d5220:ra.d5220,d5232:ra.d5232,d5421:ra.d5421,d5433:ra.d5433,dedt:ra.dedt,del1:ra.del1,del2:ra.del2,del3:ra.del3,didt:ra.didt,dmdt:ra.dmdt,dnodt:ra.dnodt,domdt:ra.domdt,argpo:ra.argpo,argpdot:ra.argpdot,t:ra.t,tc:w,gsto:ra.gsto,xfact:ra.xfact,xlamo:ra.xlamo,no:ra.no,atime:ra.atime,em:H,argpm:m,inclm:C,xli:ra.xli,mm:F,xni:ra.xni,nodem:T,nm:M});H=ta.em,m=ta.argpm,C=ta.inclm,F=ta.mm,T=ta.nodem,M=ta.nm}if(0>=M)return ra.error=2,[!1,!1];var B=ca(ka/M,oa)*j*j;if(M=ka/ca(B,1.5),1<=(H-=z)||-.001>H)return ra.error=1,[!1,!1];1e-6>H&&(H=1e-6),ma=(F+=ra.no*E)+m+T;var K=H;if(aa=C,s=m%=ia,qa=T%=ia,O=F=((ma%=ia)-m-T)%ia,o=ga(C),e=fa(C),"d"===ra.method){var ua=d(ra,{inclo:ra.inclo,init:"n",ep:K,inclp:aa,nodep:qa,argpp:s,mp:O,opsmode:ra.operationmod});if(K=ua.ep,qa=ua.nodep,s=ua.argpp,O=ua.mp,0>(aa=ua.inclp)&&(aa=-aa,qa+=ha,s-=ha),0>K||1<K)return ra.error=3,[!1,!1]}"d"===ra.method&&(o=ga(aa),e=fa(aa),ra.aycof=-.5*na*o,ra.xlcof=1.5e-12<da(e+1)?-.25*na*o*(3+5*e)/(1+e):-.25*na*o*(3+5*e)/1.5e-12);var Q=K*fa(s);y=1/(B*(1-K*K));var V=K*ga(s)+y*ra.aycof,W=(O+s+qa+y*ra.xlcof*Q-qa)%ia;c=W,x=9999.9;for(var X=1;1e-12<=da(x)&&10>=X;)i=ga(c),x=(W-V*(h=fa(c))+Q*i-c)/(x=1-h*Q-i*V),.95<=da(x)&&(x=0<x?.95:-.95),c+=x,X+=1;var $=Q*h+V*i,_=Q*i-V*h,va=Q*Q+V*V,wa=B*(1-va);if(0>wa)return ra.error=4,[!1,!1];var xa=B*(1-$),ya=ba(B)*_/xa,za=ba(wa)/xa,Aa=ba(1-va),Ba=B/xa*(i-V-Q*(y=_/(1+Aa))),Ca=B/xa*(h-Q+V*y);v=ea(Ba,Ca);var Da=(Ca+Ca)*Ba,Ea=1-2*Ba*Ba,Fa=.5*la*(y=1/wa),Ga=Fa*y;"d"===ra.method&&(n=e*e,ra.con41=3*n-1,ra.x1mth2=1-n,ra.x7thm1=7*n-1);var Ha=xa*(1-1.5*Ga*Aa*ra.con41)+.5*Fa*ra.x1mth2*Ea;v-=.25*Ga*ra.x7thm1*Da;var Ia=qa+1.5*Ga*e*Da,Ja=aa+1.5*Ga*e*o*Ea,Ka=ya-M*Fa*ra.x1mth2*Da/ka,La=za+M*Fa*(ra.x1mth2*Ea+1.5*ra.con41)/ka,Ma=ga(v),Na=fa(v),Oa=ga(Ia),Pa=fa(Ia),Qa=ga(Ja),Ra=fa(Ja),Sa=-Oa*Ra,Ta=Pa*Ra,Ua=Sa*Ma+Pa*Na,Va=Ta*Ma+Oa*Na,Wa=Qa*Ma;return 1>Ha?(ra.error=6,{position:!1,velocity:!1,satrec:ra}):{position:{x:Ha*Ua*ja,y:Ha*Va*ja,z:Ha*Wa*ja},velocity:{x:(Ka*Ua+La*(Sa*Na-Pa*Ma))*sa,y:(Ka*Va+La*(Ta*Na-Oa*Ma))*sa,z:(Ka*Wa+La*(Qa*Na))*sa},satrec:ra}}function o(a,e){var f,h,i,o,v,w,x,y,z,A,C,D,E,M,O,P,T,U,qa,H,Y,ra,sa,ta,ua,va,wa,X,xa,ya,za,Aa,Ba,Ca,Da,Ea,Fa,Ga,Ha,Ia,Ja,Ka,La,Ma,Na,Oa,Pa,Qa,Ra,Sa,Ta,Ua,Va,Wa,Xa,Ya,Za=pa({},a),t=e.opsmode,s=e.satn,$a=e.epoch,_a=e.xbstar,c=e.xecco,m=e.xargpo,p=e.xinclo,l=e.xmo,g=e.xno,u=e.xnodeo;Za.isimp=0,Za.method="n",Za.aycof=0,Za.con41=0,Za.cc1=0,Za.cc4=0,Za.cc5=0,Za.d2=0,Za.d3=0,Za.d4=0,Za.delmo=0,Za.eta=0,Za.argpdot=0,Za.omgcof=0,Za.sinmao=0,Za.t=0,Za.t2cof=0,Za.t3cof=0,Za.t4cof=0,Za.t5cof=0,Za.x1mth2=0,Za.x7thm1=0,Za.mdot=0,Za.nodedot=0,Za.xlcof=0,Za.xmcof=0,Za.nodecf=0,Za.irez=0,Za.d2201=0,Za.d2211=0,Za.d3210=0,Za.d3222=0,Za.d4410=0,Za.d4422=0,Za.d5220=0,Za.d5232=0,Za.d5421=0,Za.d5433=0,Za.dedt=0,Za.del1=0,Za.del2=0,Za.del3=0,Za.didt=0,Za.dmdt=0,Za.dnodt=0,Za.domdt=0,Za.e3=0,Za.ee2=0,Za.peo=0,Za.pgho=0,Za.pho=0,Za.pinco=0,Za.plo=0,Za.se2=0,Za.se3=0,Za.sgh2=0,Za.sgh3=0,Za.sgh4=0,Za.sh2=0,Za.sh3=0,Za.si2=0,Za.si3=0,Za.sl2=0,Za.sl3=0,Za.sl4=0,Za.gsto=0,Za.xfact=0,Za.xgh2=0,Za.xgh3=0,Za.xgh4=0,Za.xh2=0,Za.xh3=0,Za.xi2=0,Za.xi3=0,Za.xl2=0,Za.xl3=0,Za.xl4=0,Za.xlamo=0,Za.zmol=0,Za.zmos=0,Za.atime=0,Za.xli=0,Za.xni=0,Za.bstar=_a,Za.ecco=c,Za.argpo=m,Za.inclo=p,Za.mo=l,Za.no=g,Za.nodeo=u,Za.operationmode=t;var q=42/ja;Za.init="y",Za.t=0;var ab=function(b){var e=b.ecco,d=b.epoch,f=b.inclo,i=b.opsmode,j=b.no,k=e*e,o=1-k,s=ba(o),t=fa(f),v=t*t,w=ca(ka/j,oa),p=.75*la*(3*v-1)/(s*o),l=p/(w*w),x=w*(1-l*l-l*(1/3+134*l*l/81));j/=1+(l=p/(x*x));var g,A=ca(ka/j,oa),F=ga(f),H=A*o,y=1-5*v;if("a"===i){var I=d-7305,C=G(I+1e-8),D=.017202791694070362;0>(g=(1.7321343856509375+D*C+(D+ia)*(I-C)+5.075514194322695e-15*(I*I))%ia)&&(g+=ia)}else g=B(d+2433281.5);return{no:j,method:"n",ainv:1/A,ao:A,con41:-y-v-v,con42:y,cosio:t,cosio2:v,eccsq:k,omeosq:o,posq:H*H,rp:A*(1-e),rteosq:s,sinio:F,gsto:g}}({satn:s,ecco:Za.ecco,epoch:$a,inclo:Za.inclo,no:Za.no,method:Za.method,opsmode:Za.operationmode}),bb=ab.ao,cb=ab.con42,db=ab.cosio,eb=ab.cosio2,fb=ab.eccsq,gb=ab.omeosq,hb=ab.posq,ib=ab.rp,jb=ab.rteosq,kb=ab.sinio;if(Za.no=ab.no,Za.con41=ab.con41,Za.gsto=ab.gsto,Za.error=0,0<=gb||0<=Za.no){if(Za.isimp=0,(ib<220/ja)+1&&(Za.isimp=1),wa=78/ja+1,Y=q*q*q*q,156>(U=(ib-1)*ja)){wa=U-78,98>U&&(wa=20);var lb=(120-wa)/ja;Y=lb*lb*lb*lb,wa=wa/ja+1}qa=1/hb,Oa=1/(bb-wa),Za.eta=bb*Za.ecco*Oa,D=Za.eta*Za.eta,C=Za.ecco*Za.eta,H=da(1-D),o=(x=(w=Y*ca(Oa,4))/ca(H,3.5))*Za.no*(bb*(1+1.5*D+C*(4+D))+.375*la*Oa/H*Za.con41*(8+3*D*(8+D))),Za.cc1=Za.bstar*o,v=0,1e-4<Za.ecco&&(v=-2*w*Oa*na*Za.no*kb/Za.ecco),Za.x1mth2=1-eb,Za.cc4=2*Za.no*x*bb*gb*(Za.eta*(2+.5*D)+Za.ecco*(.5+2*D)-la*Oa/(bb*H)*(-3*Za.con41*(1-2*C+D*(1.5-.5*C))+.75*Za.x1mth2*(2*D-C*(1+D))*fa(2*Za.argpo))),Za.cc5=2*x*bb*gb*(1+2.75*(D+C)+C*D),y=eb*eb,Ma=.5*(La=1.5*la*qa*Za.no)*la*qa,Na=-.46875*ma*qa*qa*Za.no,Za.mdot=Za.no+.5*La*jb*Za.con41+.0625*Ma*jb*(13-78*eb+137*y),Za.argpdot=-.5*La*cb+.0625*Ma*(7-114*eb+395*y)+Na*(3-36*eb+49*y),Qa=-La*db,Za.nodedot=Qa+(.5*Ma*(4-19*eb)+2*Na*(3-7*eb))*db,Pa=Za.argpdot+Za.nodedot,Za.omgcof=Za.bstar*v*fa(Za.argpo),Za.xmcof=0,1e-4<Za.ecco&&(Za.xmcof=-oa*w*Za.bstar/C),Za.nodecf=3.5*gb*Qa*Za.cc1,Za.t2cof=1.5*Za.cc1,Za.xlcof=1.5e-12<da(db+1)?-.25*na*kb*(3+5*db)/(1+db):-.25*na*kb*(3+5*db)/1.5e-12,Za.aycof=-.5*na*kb;var mb=1+Za.eta*fa(Za.mo);if(Za.delmo=mb*mb*mb,Za.sinmao=ga(Za.mo),Za.x7thm1=7*eb-1,225<=2*ha/Za.no){Za.method="d",Za.isimp=1,Ja=0,O=Za.inclo;var nb=function(v){var o,aa,r,ca,h,m,p,l,x,M,g,f,u,z,y,b,q,w,F,j,da,ha,C,D,U,A,ja,ka,la,ma,na,oa,pa,qa,ra,sa,ta,ua,va,wa,xa,ya,za,Aa,Ba,Ca,Da,Ea,Fa,Ga,Ha,Ia,Ja,Ka,La,Ma,Na,Oa,Pa,Qa,Ra,Sa,Ta,Ua=v.epoch,d=v.ep,t=v.argpp,i=v.tc,s=v.inclp,e=v.nodep,a=v.np,Va=d,Wa=ga(e),Xa=fa(e),Ya=ga(t),Za=fa(t),$a=ga(s),_a=fa(s),ab=Va*Va,bb=1-ab,cb=ba(bb),db=Ua+18261.5+i/1440,eb=(4.523602-.00092422029*db)%ia,fb=ga(eb),gb=fa(eb),hb=.91375164-.03568096*gb,ib=ba(1-hb*hb),jb=.089683511*fb/ib,kb=ba(1-jb*jb),lb=5.8351514+.001944368*db,mb=.39785416*fb/ib;mb=ea(mb,kb*gb+.91744867*jb*fb),mb+=lb-eb;var nb=fa(mb),ob=ga(mb);j=.1945905,da=-.98088458,D=.91744867,U=.39785416,ha=Xa,C=Wa,g=29864797e-13;for(var pb=0;2>pb;)La=-6*(o=j*ha+da*D*C)*(h=-$a*(p=-j*C+da*D*ha)+_a*(l=da*U))+ab*(-24*(f=o*Za+(aa=_a*p+$a*l)*Ya)*(w=h*Za)-6*(z=-o*Ya+aa*Za)*(b=h*Ya)),Ma=-6*(o*(m=-$a*(x=da*C+j*D*ha)+_a*(M=j*U))+(r=-da*ha+j*D*C)*h)+ab*(-24*((u=r*Za+(ca=_a*x+$a*M)*Ya)*w+f*(F=m*Za))+-6*(z*(q=m*Ya)+(y=-r*Ya+ca*Za)*b)),Na=-6*r*m+ab*(-24*u*F-6*y*q),Oa=6*aa*h+ab*(24*f*b-6*z*w),Pa=6*(ca*h+aa*m)+ab*(24*(u*b+f*q)-6*(y*w+z*F)),Qa=6*ca*m+ab*(24*u*q-6*y*F),Ia=(Ia=3*(o*o+aa*aa)+(Ra=12*f*f-3*z*z)*ab)+Ia+bb*Ra,Ja=(Ja=6*(o*r+aa*ca)+(Sa=24*f*u-6*z*y)*ab)+Ja+bb*Sa,Ka=(Ka=3*(r*r+ca*ca)+(Ta=12*u*u-3*y*y)*ab)+Ka+bb*Ta,Ca=-.5*(Da=g*(1/a))/cb,Ba=-15*Va*(Ea=Da*cb),Fa=f*z+u*y,Ga=u*z+f*y,Ha=u*y-f*z,1===(pb+=1)&&(A=Ba,ja=Ca,ka=Da,la=Ea,ma=Fa,na=Ga,oa=Ha,pa=Ia,qa=Ja,ra=Ka,sa=La,ta=Ma,ua=Na,va=Oa,wa=Pa,xa=Qa,ya=Ra,za=Sa,Aa=Ta,j=nb,da=ob,D=hb,U=ib,ha=kb*Xa+jb*Wa,C=Wa*kb-Xa*jb,g=4.7968065e-7);return{snodm:Wa,cnodm:Xa,sinim:$a,cosim:_a,sinomm:Ya,cosomm:Za,day:db,e3:2*Ba*Ha,ee2:2*Ba*Ga,em:Va,emsq:ab,gam:lb,peo:0,pgho:0,pho:0,pinco:0,plo:0,rtemsq:cb,se2:2*A*na,se3:2*A*oa,sgh2:2*la*za,sgh3:2*la*(Aa-ya),sgh4:.01675*(-18*la),sh2:-2*ja*wa,sh3:-2*ja*(xa-va),si2:2*ja*ta,si3:2*ja*(ua-sa),sl2:-2*ka*qa,sl3:-2*ka*(ra-pa),sl4:.01675*(-2*ka*(-21-9*ab)),s1:Ba,s2:Ca,s3:Da,s4:Ea,s5:Fa,s6:Ga,s7:Ha,ss1:A,ss2:ja,ss3:ka,ss4:la,ss5:ma,ss6:na,ss7:oa,sz1:pa,sz2:qa,sz3:ra,sz11:sa,sz12:ta,sz13:ua,sz21:va,sz22:wa,sz23:xa,sz31:ya,sz32:za,sz33:Aa,xgh2:2*Ea*Sa,xgh3:2*Ea*(Ta-Ra),xgh4:.0549*(-18*Ea),xh2:-2*Ca*Pa,xh3:-2*Ca*(Qa-Oa),xi2:2*Ca*Ma,xi3:2*Ca*(Na-La),xl2:-2*Da*Ja,xl3:-2*Da*(Ka-Ia),xl4:.0549*(-2*Da*(-21-9*ab)),nm:a,z1:Ia,z2:Ja,z3:Ka,z11:La,z12:Ma,z13:Na,z21:Oa,z22:Pa,z23:Qa,z31:Ra,z32:Sa,z33:Ta,zmol:(.2299715*db-lb+4.7199672)%ia,zmos:(6.2565837+.017201977*db)%ia}}({epoch:$a,ep:Za.ecco,argpp:Za.argpo,tc:Ja,inclp:Za.inclo,nodep:Za.nodeo,np:Za.no,e3:Za.e3,ee2:Za.ee2,peo:Za.peo,pgho:Za.pgho,pho:Za.pho,pinco:Za.pinco,plo:Za.plo,se2:Za.se2,se3:Za.se3,sgh2:Za.sgh2,sgh3:Za.sgh3,sgh4:Za.sgh4,sh2:Za.sh2,sh3:Za.sh3,si2:Za.si2,si3:Za.si3,sl2:Za.sl2,sl3:Za.sl3,sl4:Za.sl4,xgh2:Za.xgh2,xgh3:Za.xgh3,xgh4:Za.xgh4,xh2:Za.xh2,xh3:Za.xh3,xi2:Za.xi2,xi3:Za.xi3,xl2:Za.xl2,xl3:Za.xl3,xl4:Za.xl4,zmol:Za.zmol,zmos:Za.zmos});Za.e3=nb.e3,Za.ee2=nb.ee2,Za.peo=nb.peo,Za.pgho=nb.pgho,Za.pho=nb.pho,Za.pinco=nb.pinco,Za.plo=nb.plo,Za.se2=nb.se2,Za.se3=nb.se3,Za.sgh2=nb.sgh2,Za.sgh3=nb.sgh3,Za.sgh4=nb.sgh4,Za.sh2=nb.sh2,Za.sh3=nb.sh3,Za.si2=nb.si2,Za.si3=nb.si3,Za.sl2=nb.sl2,Za.sl3=nb.sl3,Za.sl4=nb.sl4,h=nb.sinim,f=nb.cosim,z=nb.em,A=nb.emsq,ra=nb.s1,sa=nb.s2,ta=nb.s3,ua=nb.s4,va=nb.s5,X=nb.ss1,xa=nb.ss2,ya=nb.ss3,za=nb.ss4,Aa=nb.ss5,Ba=nb.sz1,Ca=nb.sz3,Da=nb.sz11,Ea=nb.sz13,Fa=nb.sz21,Ga=nb.sz23,Ha=nb.sz31,Ia=nb.sz33,Za.xgh2=nb.xgh2,Za.xgh3=nb.xgh3,Za.xgh4=nb.xgh4,Za.xh2=nb.xh2,Za.xh3=nb.xh3,Za.xi2=nb.xi2,Za.xi3=nb.xi3,Za.xl2=nb.xl2,Za.xl3=nb.xl3,Za.xl4=nb.xl4,Za.zmol=nb.zmol,Za.zmos=nb.zmos,T=nb.nm,Ra=nb.z1,Sa=nb.z3,Ta=nb.z11,Ua=nb.z13,Va=nb.z21,Wa=nb.z23,Xa=nb.z31,Ya=nb.z33;var ob=d(Za,{inclo:O,init:Za.init,ep:Za.ecco,inclp:Za.inclo,nodep:Za.nodeo,argpp:Za.argpo,mp:Za.mo,opsmode:Za.operationmode});Za.ecco=ob.ep,Za.inclo=ob.inclp,Za.nodeo=ob.nodep,Za.argpo=ob.argpp,Za.mo=ob.mp,E=0,M=0,P=0;var pb=function(b){var h,o,v,M,aa,ba,da,ea,fa,ga,ja,la,ma,na,pa,qa,ra,sa,ta=b.cosim,d=b.argpo,t=b.s1,i=b.s2,s=b.s3,e=b.s4,a=b.s5,n=b.sinim,r=b.ss1,c=b.ss2,m=b.ss3,p=b.ss4,l=b.ss5,x=b.sz1,g=b.sz3,f=b.sz11,u=b.sz13,z=b.sz21,y=b.sz23,q=b.sz31,w=b.sz33,F=b.t,j=b.tc,T=b.gsto,E=b.mo,C=b.mdot,D=b.no,U=b.nodeo,A=b.nodedot,L=b.xpidot,I=b.z1,O=b.z3,P=b.z11,S=b.z13,R=b.z21,k=b.z23,J=b.z31,Z=b.z33,G=b.ecco,H=b.eccsq,Y=b.emsq,B=b.em,ua=b.argpm,va=b.inclm,wa=b.mm,xa=b.nm,ya=b.nodem,za=b.irez,Aa=b.atime,Ba=b.d2201,Ca=b.d2211,Da=b.d3210,Ea=b.d3222,Fa=b.d4410,Ga=b.d4422,Ha=b.d5220,Ia=b.d5232,Ja=b.d5421,Ka=b.d5433,La=b.dedt,Ma=b.didt,Na=b.dmdt,Oa=b.dnodt,Pa=b.domdt,Qa=b.del1,Ra=b.del2,Sa=b.del3,Ta=b.xfact,Ua=b.xlamo,Va=b.xli,Wa=b.xni,Xa=.0043752690880113,Ya=.00015835218,Za=119459e-10;za=0,.0052359877>xa&&.0034906585<xa&&(za=1),.00826<=xa&&.00924>=xa&&.5<=B&&(za=2);var $a=-Za*c*(z+y);(.052359877>va||va>ha-.052359877)&&($a=0),0!==n&&($a/=n),La=r*Za*l+t*Ya*a,Ma=c*Za*(f+u)+i*Ya*(P+S),Na=-Za*m*(x+g-14-6*Y)-Ya*s*(I+O-14-6*Y);var _a=-Ya*i*(R+k);(.052359877>va||va>ha-.052359877)&&(_a=0),Pa=p*Za*(q+w-6)-ta*$a+e*Ya*(J+Z-6),Oa=$a,0!==n&&(Pa-=ta/n*_a,Oa+=_a/n);var ab=(T+j*Xa)%ia;if(B+=La*F,va+=Ma*F,ua+=Pa*F,ya+=Oa*F,wa+=Na*F,0!==za){if(qa=ca(xa/ka,oa),2===za){ra=ta*ta;var bb=B,cb=Y;sa=(B=G)*(Y=H),v=-.306-.44*(B-.64),.65>=B?(M=3.616-13.247*B+16.29*Y,aa=117.39*B-19.302-228.419*Y+156.591*sa,ba=109.7927*B-18.9068-214.6334*Y+146.5816*sa,da=242.694*B-41.122-471.094*Y+313.953*sa,ea=841.88*B-146.407-1629.014*Y+1083.435*sa,fa=3017.977*B-532.114-5740.032*Y+3708.276*sa):(M=331.819*B-72.099-508.738*Y+266.724*sa,aa=1582.851*B-346.844-2415.925*Y+1246.113*sa,ba=1554.908*B-342.585-2366.899*Y+1215.972*sa,da=4758.686*B-1052.797-7193.992*Y+3651.957*sa,ea=16178.11*B-3581.69-24462.77*Y+12422.52*sa,fa=.715<B?29936.92*B-5149.66-54087.36*Y+31324.56*sa:1464.74-4664.75*B+3763.64*Y),.7>B?(la=4988.61*B-919.2277-9064.77*Y+5542.21*sa,ga=4568.6173*B-822.71072-8491.4146*Y+5337.524*sa,ja=4690.25*B-853.666-8624.77*Y+5341.4*sa):(la=161616.52*B-37995.78-229838.2*Y+109377.94*sa,ga=218913.95*B-51752.104-309468.16*Y+146349.42*sa,ja=170470.89*B-40023.88-242699.48*Y+115605.82*sa),Ba=(na=17891679e-13*(pa=3*(xa*xa)*(qa*qa)))*(h=.75*(1+2*ta+ra))*v,Ca=na*(1.5*(ma=n*n))*M,Da=(na=3.7393792e-7*(pa*=qa))*(1.875*n*(1-2*ta-3*ra))*aa,Ea=na*(-1.875*n*(1+2*ta-3*ra))*ba,Fa=(na=7.3636953e-9*(2*(pa*=qa)))*(35*ma*h)*da,Ga=na*(39.375*ma*ma)*ea,Ha=(na=1.1428639e-7*(pa*=qa))*(9.84375*n*(ma*(1-2*ta-5*ra)+.33333333*(4*ta-2+6*ra)))*fa,Ia=na*(n*(4.92187512*ma*(-2-4*ta+10*ra)+6.56250012*(1+2*ta-3*ra)))*ja,Ja=(na=2.1765803e-9*(2*pa))*(29.53125*n*(2-8*ta+ra*(8*ta-12+10*ra)))*ga,Ka=na*(29.53125*n*(-2-8*ta+ra*(12+8*ta-10*ra)))*la,Ua=(E+U+U-(ab+ab))%ia,Ta=C+Na+2*(A+Oa-Xa)-D,B=bb,Y=cb}1===za&&(o=1+ta,Ra=17891679e-13*(2*(Qa=3*xa*xa*qa*qa)*(h=.75*(1+ta)*(1+ta))*(1+Y*(.8125*Y-2.5))),Sa=2.2123015e-7*(3*Qa*(o*=1.875*o*o)*(1+Y*(6.60937*Y-6)))*qa,Qa=21460748e-13*(Qa*(.9375*n*n*(1+3*ta)-.75*(1+ta))*(aa=1+2*Y))*qa,Ua=(E+U+d-ab)%ia,Ta=C+L+Na+Pa+Oa-(D+Xa)),Va=Ua,Wa=D,Aa=0,xa=D+0}return{em:B,argpm:ua,inclm:va,mm:wa,nm:xa,nodem:ya,irez:za,atime:Aa,d2201:Ba,d2211:Ca,d3210:Da,d3222:Ea,d4410:Fa,d4422:Ga,d5220:Ha,d5232:Ia,d5421:Ja,d5433:Ka,dedt:La,didt:Ma,dmdt:Na,dndt:0,dnodt:Oa,domdt:Pa,del1:Qa,del2:Ra,del3:Sa,xfact:Ta,xlamo:Ua,xli:Va,xni:Wa}}({cosim:f,emsq:A,argpo:Za.argpo,s1:ra,s2:sa,s3:ta,s4:ua,s5:va,sinim:h,ss1:X,ss2:xa,ss3:ya,ss4:za,ss5:Aa,sz1:Ba,sz3:Ca,sz11:Da,sz13:Ea,sz21:Fa,sz23:Ga,sz31:Ha,sz33:Ia,t:Za.t,tc:Ja,gsto:Za.gsto,mo:Za.mo,mdot:Za.mdot,no:Za.no,nodeo:Za.nodeo,nodedot:Za.nodedot,xpidot:Pa,z1:Ra,z3:Sa,z11:Ta,z13:Ua,z21:Va,z23:Wa,z31:Xa,z33:Ya,ecco:Za.ecco,eccsq:fb,em:z,argpm:E,inclm:O,mm:P,nm:T,nodem:M,irez:Za.irez,atime:Za.atime,d2201:Za.d2201,d2211:Za.d2211,d3210:Za.d3210,d3222:Za.d3222,d4410:Za.d4410,d4422:Za.d4422,d5220:Za.d5220,d5232:Za.d5232,d5421:Za.d5421,d5433:Za.d5433,dedt:Za.dedt,didt:Za.didt,dmdt:Za.dmdt,dnodt:Za.dnodt,domdt:Za.domdt,del1:Za.del1,del2:Za.del2,del3:Za.del3,xfact:Za.xfact,xlamo:Za.xlamo,xli:Za.xli,xni:Za.xni});Za.irez=pb.irez,Za.atime=pb.atime,Za.d2201=pb.d2201,Za.d2211=pb.d2211,Za.d3210=pb.d3210,Za.d3222=pb.d3222,Za.d4410=pb.d4410,Za.d4422=pb.d4422,Za.d5220=pb.d5220,Za.d5232=pb.d5232,Za.d5421=pb.d5421,Za.d5433=pb.d5433,Za.dedt=pb.dedt,Za.didt=pb.didt,Za.dmdt=pb.dmdt,Za.dnodt=pb.dnodt,Za.domdt=pb.domdt,Za.del1=pb.del1,Za.del2=pb.del2,Za.del3=pb.del3,Za.xfact=pb.xfact,Za.xlamo=pb.xlamo,Za.xli=pb.xli,Za.xni=pb.xni}1!==Za.isimp&&(i=Za.cc1*Za.cc1,Za.d2=4*bb*Oa*i,Ka=Za.d2*Oa*Za.cc1/3,Za.d3=(17*bb+wa)*Ka,Za.d4=.5*Ka*bb*Oa*(221*bb+31*wa)*Za.cc1,Za.t3cof=Za.d2+2*i,Za.t4cof=.25*(3*Za.d3+Za.cc1*(12*Za.d2+10*i)),Za.t5cof=.2*(3*Za.d4+12*Za.cc1*Za.d3+6*Za.d2*Za.d2+15*i*(2*Za.d2+i)))}var qb=aa(Za,0).satrec;return qb.init="n",qb}function n(a){return a*s}function r(b){var c=b.longitude,d=b.latitude,f=b.height,g=.0033528106718309306,h=2*g-g*g,e=6378.137/ba(1-h*(ga(d)*ga(d)));return{x:(e+f)*fa(d)*fa(c),y:(e+f)*fa(d)*ga(c),z:(e*(1-h)+f)*ga(d)}}var ba=Math.sqrt,ca=Math.pow,da=Math.abs,ea=Math.atan2,fa=Math.cos,ga=Math.sin,G=Math.floor,ha=Math.PI,ia=2*ha,C=ha/180,s=180/ha,D=1440,ja=6378.137,ka=60/806.8110649226988,E=1/ka,la=.00108262998905,H=-253215306e-14,ma=-161098761e-14,na=H/la,oa=2/3,I=Object.freeze({pi:ha,twoPi:ia,deg2rad:C,rad2deg:s,minutesPerDay:D,mu:398600.5,earthRadius:ja,xke:ka,tumin:E,j2:la,j3:H,j4:ma,j3oj2:na,x2o3:oa}),pa=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a},w=function(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)};return{constants:I,propagate:function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];var d=b[0],f=Array.prototype.slice.call(b,1);return aa(d,(A.apply(void 0,w(f))-d.jdsatepoch)*D)},sgp4:aa,twoline2satrec:function(b,d){var f=1440/(2*ha),g=0,e={};e.error=0,e.satnum=b.substring(2,7),e.epochyr=parseInt(b.substring(18,20),10),e.epochdays=parseFloat(b.substring(20,32)),e.ndot=parseFloat(b.substring(33,43)),e.nddot=parseFloat("."+parseInt(b.substring(44,50),10)+"E"+b.substring(50,52)),e.bstar=parseFloat(b.substring(53,54)+"."+parseInt(b.substring(54,59),10)+"E"+b.substring(59,61)),e.inclo=parseFloat(d.substring(8,16)),e.nodeo=parseFloat(d.substring(17,25)),e.ecco=parseFloat("."+d.substring(26,33)),e.argpo=parseFloat(d.substring(34,42)),e.mo=parseFloat(d.substring(43,51)),e.no=parseFloat(d.substring(52,63)),e.no/=f,e.a=ca(e.no*E,-2/3),e.ndot/=1440*f,e.nddot/=1440*(1440*f),e.inclo*=C,e.nodeo*=C,e.argpo*=C,e.mo*=C,e.alta=e.a*(1+e.ecco)-1,e.altp=e.a*(1-e.ecco)-1;var a=j(g=57>e.epochyr?e.epochyr+2e3:e.epochyr+1900,e.epochdays),h=a.mon,c=a.day,i=a.hr,k=a.minute,l=a.sec;return e.jdsatepoch=A(g,h,c,i,k,l),o(e,{opsmode:"i",satn:e.satnum,epoch:e.jdsatepoch-2433281.5,xbstar:e.bstar,xecco:e.ecco,xargpo:e.argpo,xinclo:e.inclo,xmo:e.mo,xno:e.no,xnodeo:e.nodeo})},gstime:B,gstimeFromJday:function(){return console.warn("gstimeFromJday is deprecated, use gstime instead."),B.apply(void 0,arguments)},gstimeFromDate:function(){return console.warn("gstimeFromDate is deprecated, use gstime instead."),B.apply(void 0,arguments)},jday:A,invjday:function(b,d){var f=b-2415019.5,g=1900+G(f/365.25),e=G(.25*(g-1901)),a=f-(365*(g-1900)+e)+1e-11;1>a&&(a=f-(365*((g-=1)-1900)+(e=G(.25*(g-1901)))));var i=j(g,a),k=i.mon,c=i.day,h=i.hr,l=i.minute,m=i.sec-8.64e-7;return d?[g,k,c,h,l,G(m)]:new Date(Date.UTC(g,k-1,c,h,l,G(m)))},dopplerFactor:function(b,c,d){var f=ba(ca(c.x-b.x,2)+ca(c.y-b.y,2)+ca(c.z-b.z,2)),g=c.x+d.x,h=c.y+d.y,e=c.z+d.z,a=ba(ca(g-b.x,2)+ca(h-b.y,2)+ca(e-b.z,2))-f;return 1+(a*=function(a){return 0<=a?1:-1}(a))/299792.458},degreesLat:function(a){if(a<-ha/2||a>ha/2)throw new RangeError("Latitude radians must be in range [-pi/2; pi/2].");return n(a)},degreesLong:function(a){if(a<-ha||a>ha)throw new RangeError("Longitude radians must be in range [-pi; pi].");return n(a)},geodeticToEcf:r,eciToGeodetic:function(b,f){for(var d=6378.137,g=ba(b.x*b.x+b.y*b.y),i=.0033528106718309306,j=2*i-i*i,e=ea(b.y,b.x)-f;e<-ha;)e+=ia;for(;e>ha;)e-=ia;for(var k=0,l=ea(b.z,ba(b.x*b.x+b.y*b.y)),m=void 0;20>k;)m=1/ba(1-j*(ga(l)*ga(l))),l=ea(b.z+d*m*j*ga(l),g),k+=1;return{longitude:e,latitude:l,height:g/fa(l)-d*m}},eciToEcf:function(a,b){return{x:a.x*fa(b)+a.y*ga(b),y:a.x*-ga(b)+a.y*fa(b),z:a.z}},ecfToEci:function(a,b){return{x:a.x*fa(b)-a.y*ga(b),y:a.x*ga(b)+a.y*fa(b),z:a.z}},ecfToLookAngles:function(a,b){return function(a){var b=a.topS,c=a.topE,d=a.topZ,f=ba(b*b+c*c+d*d),g=Math.asin(d/f);return{azimuth:ea(-c,b)+ha,elevation:g,rangeSat:f}}(function(b,c){var d=b.longitude,f=b.latitude,g=r(b),h=c.x-g.x,e=c.y-g.y,a=c.z-g.z;return{topS:ga(f)*fa(d)*h+ga(f)*ga(d)*e-fa(f)*a,topE:-ga(d)*h+fa(d)*e,topZ:fa(f)*fa(d)*h+fa(f)*ga(d)*e+ga(f)*a}}(a,b))}}});